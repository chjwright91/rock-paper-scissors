<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="script.js"></script>
    <title>Rock Paper Scissors | TOP Project</title>
</head>
    <body>
        <h1>Rock | Paper | Scissors</h1>
        <p>To view gameplay, you must first click 'Cancel' in the alert box. Then, right-click anywhere on the screen and select "Inspect > Console". Finally, refresh the page and let the games begin!</p>
    <script>

        function playerSelection() {
            let userInput = prompt('Take your pick: Rock | Paper | Scissors');
            return userInput.toLowerCase();
        }
        
        function computerSelection() {
            let randomInt = Math.floor(Math.random() * 3);
            let intResult;
            
            switch(randomInt) {
                case 0:
                    return intResult = 'rock';
                case 1:
                    return intResult = 'paper';
                case 2:
                    return intResult = 'scissors';
            }

            return randomInt;
        }

        
        function finalMessage() {
            //allows player to play another game or exit the game

            let message = prompt('WAIT - DON\'T GO! Do you want to play again? Type \"yes\" or \"no\"');
            message.toLowerCase();

            if (message == 'yes') {
                alert('Let\'s play again!');
                game();
            } else if (message == 'no') {
                alert('Thanks for playing!');
            } else {
                alert('Sorry, I\'m a polite English-speaking robot. If you\'d like to play again, hit the OK button then refresh the page. Thank you for your cooperation.');
            }
        }

        function game() {
            //game play in console

            alert('Let\'s play Rock Paper Scissors!\n Best out of five... are you ready?');

            let playerScore = 0;
            let computerScore = 0;

            for (let i = 0; i < 5; i++) {
                let getPlayerChoice = playerSelection();
                let getComputerChoice = computerSelection();

                let isPlayerChoice = 'You chose ' + getPlayerChoice + ' ';
                let isDrawGameResult = '(' + getPlayerChoice + ' is ' + getComputerChoice + '). This round is a draw.';
                let isWinnerGameResult = '(' + getPlayerChoice + ' beats ' + getComputerChoice + '). You win this round.';
                let isLoserGameResult = '(' + getComputerChoice + ' beats ' + getPlayerChoice + '). You lose this round.';

                if (getPlayerChoice === getComputerChoice) {
                    // determines game round is a draw
                    
                    let scoreBoard = '\nPlayer: ' + playerScore + ' | Computer: ' + computerScore;
                    console.log(isPlayerChoice + isDrawGameResult + scoreBoard);

                } else if (
                    //determines player wins
                    (getPlayerChoice == 'rock' && getComputerChoice == 'scissors') || 
                    (getPlayerChoice == 'paper' && getComputerChoice == 'rock') || 
                    (getPlayerChoice == 'scissors' && getComputerChoice == 'paper')) {
                    
                    playerScore += 1;
                    let scoreBoard = '\nPlayer: ' + playerScore + ' | Computer: ' + computerScore;
                    console.log(isPlayerChoice + isWinnerGameResult + scoreBoard);
                    
                } else {
                    //if not a draw and player does not win
                    computerScore += 1;
                    let scoreBoard = '\nPlayer: ' + playerScore + ' | Computer: ' + computerScore;
                    console.log(isPlayerChoice + isLoserGameResult + scoreBoard);

                }  
            }

            //message output of 5-round game result
            if (playerScore > computerScore) {
                alert('Winner winner, chicken dinner!');
            } else if (playerScore < computerScore) {
                alert('You lost this game :(');
            } else {
                alert('No winners or losers here! This game is a draw.');
            }

            finalMessage();
    
        }

        game();
        
    </script>
    </body>
</html>